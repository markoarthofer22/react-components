@import '../../css/variables.scss';

.nav {
    position: relative;
    margin: 0 auto;
    z-index: 1;
    top: 100%;
    transition: all 0.4s;
    display: none;
    align-items: center;

    @include respond-to(md) {
        display: flex;
    }

    &.open {
        margin-top: 0;
        max-height: 5000px;
        height: 100vh;
        background-color: rgba($black, 0.6);
        opacity: 1;
        visibility: visible !important;
    }
}

.index .menu {
    & > li > a {
        color: $white;
    }
}

.menu {
    margin: 0;
    overflow: hidden;
    padding: 0 0px;
    display: none;

    @include respond-to(sm) {
        display: block;
    }

    ul {
        margin: 0;
    }

    .ul-help {
        left: 50%;
        transform: translateX(-50%);
    }

    li {
        list-style-type: none;
        position: relative;
    }

    a {
        transform: translateZ(0);
        transition: background-color 0.3s, color 0.3s;
        text-transform: uppercase;
        font-weight: bold;
        font-size: 0.75rem;
        color: $white;
        cursor: pointer;

        @include respond-to(sm) {
            color: $black;
        }
    }

    //open button for 2nd level navigation
    .box {
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        padding: 0;
        width: 50px;
        color: $nightgray;

        @include respond-to(sm) {
            display: none;
        }

        .opener {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;

            &::before {
                content: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjEyNSA3NSA1MCA1MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAxMjUgNzUgNTAgNTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJzdmdfMSIgZD0iTTE2NS45LDk4Ljl2Mi4yYzAsMC40LTAuMSwwLjYtMC40LDAuN2MtMC4xLDAuMi0wLjQsMC40LTAuNywwLjRoLTEyLjZ2MTIuNmMwLDAuMi0wLjEsMC41LTAuMiwwLjcNCgljLTAuMiwwLjItMC41LDAuNC0wLjksMC40aC0yLjJjLTAuNCwwLTAuNi0wLjEtMC45LTAuNGMtMC4xLTAuMi0wLjItMC41LTAuMi0wLjd2LTEyLjZoLTEyLjZjLTAuNCwwLTAuNi0wLjEtMC43LTAuNA0KCWMtMC4yLTAuMS0wLjQtMC40LTAuNC0wLjd2LTIuMmMwLTAuNCwwLjEtMC42LDAuNC0wLjljMC4xLTAuMiwwLjQtMC40LDAuNy0wLjRoMTIuNlY4NS4yYzAtMC40LDAuMS0wLjYsMC4yLTAuOQ0KCWMwLjItMC4xLDAuNS0wLjIsMC45LTAuMmgyLjJjMC40LDAsMC42LDAuMSwwLjksMC4yYzAuMSwwLjIsMC4yLDAuNSwwLjIsMC45djEyLjRoMTIuNmMwLjQsMCwwLjYsMC4xLDAuNywwLjQNCglDMTY1LjgsOTguMywxNjUuOSw5OC41LDE2NS45LDk4Ljl6IE0xNzAuNSwxMTQuOFY4NS4yYzAtMS42LTAuNi0yLjktMS43LTRjLTEuMS0xLjEtMi41LTEuNy00LTEuN2gtMjkuNmMtMS41LDAtMi45LDAuNi00LDEuNw0KCWMtMS4xLDEuMS0xLjcsMi40LTEuNyw0djI5LjZjMCwxLjUsMC42LDIuOSwxLjcsNGMxLjEsMS4xLDIuNSwxLjYsNCwxLjZoMjkuNmMxLjUsMCwyLjktMC41LDQtMS42DQoJQzE2OS45LDExNy43LDE3MC41LDExNi4zLDE3MC41LDExNC44eiBNMTc1LDg1LjJ2MjkuNmMwLDIuNy0xLDUuMi0zLDcuMnMtNC40LDMtNy4yLDNoLTI5LjZjLTIuOSwwLTUuMi0xLTcuMi0zcy0zLTQuNS0zLTcuMlY4NS4yDQoJYzAtMi45LDEtNS4yLDMtNy4yYzItMiw0LjQtMyw3LjItM2gyOS42YzIuOSwwLDUuMiwxLDcuMiwzQzE3NCw4MCwxNzUsODIuMywxNzUsODUuMnoiLz4NCjwvc3ZnPg0K');
                position: absolute;
                top: calc(50% - 8px);
                line-height: 1;
                left: calc(50% - 8px);
                height: 16px;
                width: 16px;
                color: $black;
            }
        }
    }
    //change icon on click
    // li.open-box > a > .box > .opener::before {
    //     content: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjEyNSA3NSA1MCA1MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAxMjUgNzUgNTAgNTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGQ9Ik0xNjUuOSw5OC45djIuMmMwLDAuNC0wLjEsMC42LTAuNCwwLjdjLTAuMSwwLjItMC40LDAuNC0wLjcsMC40aC0yOS42Yy0wLjQsMC0wLjYtMC4xLTAuNy0wLjRjLTAuMi0wLjEtMC40LTAuNC0wLjQtMC43DQoJdi0yLjJjMC0wLjQsMC4xLTAuNiwwLjQtMC45YzAuMS0wLjIsMC40LTAuNCwwLjctMC40aDI5LjZjMC40LDAsMC42LDAuMSwwLjcsMC40QzE2NS44LDk4LjMsMTY1LjksOTguNSwxNjUuOSw5OC45eiBNMTcwLjUsMTE0LjgNCglWODUuMmMwLTEuNi0wLjYtMi45LTEuNy00Yy0xLjEtMS4xLTIuNS0xLjctNC0xLjdoLTI5LjZjLTEuNSwwLTIuOSwwLjYtNCwxLjdjLTEuMSwxLjEtMS43LDIuNC0xLjcsNHYyOS42YzAsMS41LDAuNiwyLjksMS43LDQNCgljMS4xLDEuMSwyLjUsMS42LDQsMS42aDI5LjZjMS41LDAsMi45LTAuNSw0LTEuNkMxNjkuOSwxMTcuNywxNzAuNSwxMTYuMywxNzAuNSwxMTQuOHogTTE3NSw4NS4ydjI5LjZjMCwyLjctMSw1LjItMyw3LjINCgljLTIsMi00LjQsMy03LjIsM2gtMjkuNmMtMi45LDAtNS4yLTEtNy4yLTNjLTItMi0zLTQuNS0zLTcuMlY4NS4yYzAtMi45LDEtNS4yLDMtNy4yYzItMiw0LjQtMyw3LjItM2gyOS42YzIuOSwwLDUuMiwxLDcuMiwzDQoJUzE3NSw4Mi4zLDE3NSw4NS4yeiIvPg0KPC9zdmc+');
    //     color: $black;
    // }
}

/****** FIRST LEVEL NAVIGATION *********/

.menu {
    & > li > a {
        position: relative;
        display: block;
        padding: 10px 20px;
        text-decoration: unset;
        margin: 0px 5px;
        border-radius: 4px;
        overflow: hidden;
        color: #fff;

        @include respond-to(sm) {
            margin: 10px 5px;
        }
    }

    & > li > ul {
        left: 50%;
        transform: translateX(-50%);

        &.custom-list {
            width: 90%;

            @include respond-to(sm) {
                padding: initial;
                width: initial;
            }
        }
    }

    & > li {
        &.open {
            z-index: 999;
        }

        & > a:hover {
            color: $white;

            &::before {
                opacity: 0.6;
                transform: scale(1, 1);
            }
        }

        & > a::before {
            content: ' ';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;

            background-color: transparent;
            z-index: -1;
            opacity: 0;
            transform: scale(0, 1);
            transform-origin: 100% 0;
            transition: all 0.3s;
            background: linear-gradient(to right, #d0205d 50%, #eb752c 100%);
        }

        & > a.active {
            color: $white;
            &::before {
                background: linear-gradient(to right, #d0205d 50%, #eb752c 100%);
                transform: scale(1, 1);
                opacity: 1;
            }
        }
    }

    @include respond-to(sm) {
        visibility: visible;
        opacity: 1;
        overflow: inherit;

        li {
            background-color: transparent;
        }

        & > li {
            float: left;
        }

        a.active > ul {
            visibility: hidden;
            opacity: 0;
        }
        li.open > ul {
            visibility: visible !important;
            opacity: 1;
        }
    }
}

/******** SECOND LEVEL NAVIGATION ***********/

.menu {
    & > li > ul {
        visibility: hidden;
        opacity: 0;
        position: relative;
        background-color: rgba(255, 255, 255, 0.97);
        transition: max-height 0.5s ease-in-out, opacity 0.3s linear, visibility 0.3s linear;
        transition-delay: 0.1s;
        border-radius: 4px;
        padding: 10px;

        //set all child items
        li a {
            display: block;
            min-width: 200px;
            color: $nightgray;
        }
    }

    & > li.open-box > ul {
        visibility: visible;
        opacity: 1;
        max-height: 5000px;
    }

    & > li > ul > li > a {
        padding-left: 50px;

        &:hover {
            background-color: $sub-nav-item-active;
            color: $white;
        }
    }

    @include respond-to(sm) {
        & > li > ul {
            position: absolute;
            top: 100%;
            visibility: hidden;

            opacity: 0;
            z-index: 99;
            background-color: rgba(255, 255, 255, 0.97);
            border: 1px solid $light-grey;
            padding: 10px;
        }

        & > li > ul > li > a {
            padding: 12px;
        }
    }
}

/******* THiRD LEVEL NAVIGATION *******/

.menu > li > ul > li > ul {
    position: relative;
    opacity: 0;
    max-height: 0;
    top: 0;
    visibility: hidden;
    transform: scale(0.9, 0.9);
    z-index: 100;
    background-color: rgba(255, 255, 255, 0.97);
    transition: all 0.3s linear;

    & > a {
        padding-left: 70px;

        &:hover {
            background-color: $dark-blue;
            color: $white;
        }
    }

    @include respond-to(sm) {
        & > li > ul > li > ul {
            position: absolute;
            left: 100%;
            border: 1px solid $light-grey;
            padding: 10px;
        }

        & > li > ul > li > ul > li > a {
            padding: 12px;
        }
    }
}

// mobile nav
